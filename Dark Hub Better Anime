local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Dark Hub",
   Icon = 245962773, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Dark Hub - Better Anime",
   LoadingSubtitle = "by GalaxyPro",
   Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   DisableRayfieldPrompts = true,
   DisableBuildWarnings = true, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = true,
      FolderName = "DarkHub-BetterAnime", -- Folder name needs to be in quotes
      FileName = "Dark"
   },

   Discord = {
      Enabled = true, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "darkhub", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   KeySystem = true, -- Set this to true to use our key system
   KeySettings = {
      Title = "Dark Hub",
      Subtitle = "Get The Key By Doing Linkversi! â¬‡",
      Note = "https://ossified-inky-scion.glitch.me/", -- Use this to tell the user how to get a key
      FileName = "darkhubxbakey", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
      SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
      GrabKeyFromSite = true, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = {"Galaxy","https://raw.githubusercontent.com/GalaxyPro02/Dark-Hub/refs/heads/main/Dark%20Hub%20Key","https://fbe55c28-0256-406a-8350-4e2f2736836d-00-1tq1vwix2dy8d.worf.replit.dev/raw/githubusercontent.com/GalaxyPro02/Dark-Hub/refs/heads/main/Dark%20Hub%20Key"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
   }
})

local InfoTab = Window:CreateTab("Info", 245962773) -- Title, Image
local MainTab = Window:CreateTab("Troll / PvP", 245962773) -- Title, Image
local BetterAnimeTab = Window:CreateTab("Better Anime", 245962773) -- Title, Image
local VisualsTab = Window:CreateTab("Visuals", 245962773) -- Title, Image
local SettingsTab = Window:CreateTab("Settings", 245962773) -- Title, Image

local Section = InfoTab:CreateSection("Dark Hub Info")

local Label = InfoTab:CreateLabel("Dark Hub Made By: GalaxyPro!", 4483362458, Color3.fromRGB(255, 255, 255), false) -- Title, Icon, Color, IgnoreTheme

-- Track when the script starts
local startTime = tick()

-- Create the label
local ExecutedTimeLabel = InfoTab:CreateLabel("Executed Time: 0m")

-- Auto-update executed time
task.spawn(function()
    while true do
        local seconds = math.floor(tick() - startTime)
        local minutes = math.floor(seconds / 60)
        local hours = math.floor(minutes / 60)
        minutes = minutes % 60

        local timeText = (hours > 0 and (hours .. "h " .. minutes .. "m")) or (minutes .. "m")
        ExecutedTimeLabel:Set("Executed Time: " .. timeText)

        task.wait(10) -- update every 10 seconds
    end
end)

local Section = InfoTab:CreateSection("Executor Info")

local executor = "Unknown"

if identifyexecutor then
    executor = identifyexecutor()
elseif KRNL_LOADED then
    executor = "KRNL"
elseif is_sirhurt_closure then
    executor = "SirHurt"
elseif syn and syn.protect_gui then
    executor = "Synapse X"
elseif getexecutorname then
    executor = getexecutorname()
end

local ExecutorLabel = InfoTab:CreateLabel("Executor: " .. executor)

local Section = InfoTab:CreateSection("Player Info")

local DisplayNameLabel = InfoTab:CreateLabel("Display Name: " .. game.Players.LocalPlayer.DisplayName)

local PlayerInfoLabel = InfoTab:CreateLabel("Player Username: " .. game.Players.LocalPlayer.Name)

local AccountAgeLabel = InfoTab:CreateLabel("Account Age: " .. game.Players.LocalPlayer.AccountAge .. " days")

local Section = InfoTab:CreateSection("Server Info")

-- Create the label
local ServerUptimeLabel = InfoTab:CreateLabel("Server Uptime: Checking...")

-- Function to format time nicely
local function formatTime(seconds)
    local minutes = math.floor(seconds / 60)
    local hours = math.floor(minutes / 60)
    minutes = minutes % 60
    return hours > 0 and (hours .. "h " .. minutes .. "m") or (minutes .. "m")
end

-- Update the label repeatedly
task.spawn(function()
    while true do
        local uptime = os.clock() -- how long the script environment has been alive
        local display = formatTime(uptime)
        ServerUptimeLabel:Set("Server Uptime: " .. display)
        task.wait(10)
    end
end)

-- Create the label
local PlayerCountLabel = InfoTab:CreateLabel("Players Online: " .. #game.Players:GetPlayers())

-- Update the label whenever someone joins or leaves
game.Players.PlayerAdded:Connect(function()
    PlayerCountLabel:Set("Players Online: " .. #game.Players:GetPlayers())
end)

game.Players.PlayerRemoving:Connect(function()
    PlayerCountLabel:Set("Players Online: " .. #game.Players:GetPlayers())
end)

-- Get the server's Job ID
local serverJobId = game.JobId

-- Create the label
local ServerJobIdLabel = InfoTab:CreateLabel("Server Job ID: " .. serverJobId)

local Section = MainTab:CreateSection("Hitbox - PvP/Fun")

local MainButton = AriseCrossoverTab:CreateButton({
   Name = "Hitbox Expander - Unknown",
   Callback = function()
   loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/HitboxExpander.lua"))()
   end,
})

local noClipEnabled = false

local function toggleNoClip()
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = not noClipEnabled
            end
        end
    end
end

local Toggle = MainTab:CreateToggle({
    Name = "No-Clip",
    CurrentValue = false,
    Flag = "NoClipMain",
    Callback = function(Value)
        noClipEnabled = Value
        toggleNoClip()
    end,
})

-- Create the toggle button
local Toggle = MainTab:CreateToggle({
    Name = "No-Clip", -- Button text
    CurrentValue = false, -- Initial value of the toggle (no-clip off initially)
    Flag = "NoClipFlag", -- Identifier for configuration file (make sure it's unique)
    Callback = function(Value)
        -- This function will be called when the toggle is pressed
        noClipEnabled = Value -- Update the no-clip state based on the toggle value
        toggleNoClip() -- Call the function to toggle no-clip
    end,
})

local flingConnection = nil

local Toggle = MainTab:CreateToggle({
    Name = "Walk Fling",
    CurrentValue = false,
    Flag = "WalkFling",
    Callback = function(Value)
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local hrp = character:WaitForChild("HumanoidRootPart")

        if Value then
            -- Enable walk fling
            flingConnection = game:GetService("RunService").Heartbeat:Connect(function()
                hrp.Velocity = Vector3.new(9999, 0, 9999)
            end)
        else
            -- Disable walk fling
            if flingConnection then
                flingConnection:Disconnect()
                flingConnection = nil
            end
            hrp.Velocity = Vector3.zero
        end
    end,
})

local Section = MainTab:CreateSection("Target Player - Troll A Player!")

local Section = MainTab:CreateSection("Target Everyone - Troll Everyone!")

local Section = BetterAnimeTab:CreateSection("Infinite Coins")

local running = false

local Toggle = BetterAnimeTab:CreateToggle({
    Name = "Infinite Coins",
    CurrentValue = false,
    Flag = "InfiniteCoinsToggle",
    Callback = function(Value)
        running = Value
        if running then
            task.spawn(function()
                while running do
                    game.ReplicatedStorage.Event.Sword.UnlockSword:FireServer("Dark Hub")
                    task.wait(0.1) -- adjust speed here
                end
            end)
        end
    end,
})

local Section = BetterAnimeTab:CreateSection("Crates")

